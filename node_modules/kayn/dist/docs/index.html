<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl">
  <title data-ice="title">Home | kayn</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/cnguy/kayn.git"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoint.js~Endpoint.html">Endpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-setupLoggers">setupLoggers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-DEFAULT_KAYN_CONFIG">DEFAULT_KAYN_CONFIG</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-KAYN_CONFIG_STRUCT">KAYN_CONFIG_STRUCT</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#caches">Caches</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Caches/BasicJSCache.js~BasicJSCache.html">BasicJSCache</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Caches/LRUCache.js~_LRUCache.html">_LRUCache</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Caches/RedisCache.js~RedisCache.html">RedisCache</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#endpoints">Endpoints</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/ChampionEndpoint.js~ChampionEndpoint.html">ChampionEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/ChampionMasteryEndpoint.js~ChampionMasteryEndpoint.html">ChampionMasteryEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/PlatformSuperclass.js~PlatformSuperclass.html">PlatformSuperclass</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StatusEndpoint.js~StatusEndpoint.html">StatusEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/SummonerEndpoint.js~SummonerEndpoint.html">SummonerEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/ThirdPartyCodeEndpoint.js~ThirdPartyCodeEndpoint.html">ThirdPartyCodeEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/TournamentEndpoint.js~TournamentEndpoint.html">TournamentEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/TournamentStubEndpoint.js~TournamentStubEndpoint.html">TournamentStubEndpoint</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#endpoints-leagueendpoint">Endpoints/LeagueEndpoint</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/LeagueEndpoint/ChallengerEndpoint.js~ChallengerEndpoint.html">ChallengerEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/LeagueEndpoint/LeagueEndpoint.js~LeagueEndpoint.html">LeagueEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/LeagueEndpoint/LeaguePositionsEndpoint.js~LeaguePositionsEndpoint.html">LeaguePositionsEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/LeagueEndpoint/LeagueSuperclass.js~LeagueSuperclass.html">LeagueSuperclass</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/LeagueEndpoint/MasterEndpoint.js~MasterEndpoint.html">MasterEndpoint</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#endpoints-matchendpoint">Endpoints/MatchEndpoint</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/MatchEndpoint/MatchEndpoint.js~MatchEndpoint.html">MatchEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/MatchEndpoint/MatchSuperclass.js~MatchSuperclass.html">MatchSuperclass</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/MatchEndpoint/MatchlistEndpoint.js~MatchlistEndpoint.html">MatchlistEndpoint</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#endpoints-spectatorendpoint">Endpoints/SpectatorEndpoint</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/SpectatorEndpoint/CurrentGameEndpoint.js~CurrentGameEndpoint.html">CurrentGameEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/SpectatorEndpoint/FeaturedGamesEndpoint.js~FeaturedGamesEndpoint.html">FeaturedGamesEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/SpectatorEndpoint/SpectatorSuperclass.js~SpectatorSuperclass.html">SpectatorSuperclass</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#endpoints-staticendpoints">Endpoints/StaticEndpoints</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticChampionEndpoint.js~StaticChampionEndpoint.html">StaticChampionEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticItemEndpoint.js~StaticItemEndpoint.html">StaticItemEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticLanguageEndpoint.js~StaticLanguageEndpoint.html">StaticLanguageEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticLanguageStringsEndpoint.js~StaticLanguageStringsEndpoint.html">StaticLanguageStringsEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticMapEndpoint.js~StaticMapEndpoint.html">StaticMapEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticMasteryEndpoint.js~StaticMasteryEndpoint.html">StaticMasteryEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticProfileIconEndpoint.js~StaticProfileIconEndpoint.html">StaticProfileIconEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticRealmEndpoint.js~StaticRealmEndpoint.html">StaticRealmEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticReforgedRunePaths.js~StaticReforgedRunePaths.html">StaticReforgedRunePaths</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticReforgedRunes.js~StaticReforgedRunes.html">StaticReforgedRunes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticRuneEndpoint.js~StaticRuneEndpoint.html">StaticRuneEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticSummonerSpellEndpoint.js~StaticSummonerSpellEndpoint.html">StaticSummonerSpellEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticSuperclass.js~StaticSuperclass.html">StaticSuperclass</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticTarballLinksEndpoint.js~StaticTarballLinksEndpoint.html">StaticTarballLinksEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticVersionEndpoint.js~StaticVersionEndpoint.html">StaticVersionEndpoint</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#enums">Enums</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-platformIDs">platformIDs</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-regions">regions</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#errors">Errors</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Errors/ParameterError.js~ParameterError.html">ParameterError</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#utils">Utils</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ParameterHelper">ParameterHelper</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-RegionHelper">RegionHelper</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><div data-ice="index" class="github-markdown"><p>A small Node.js library to work with Riot&apos;s League of Legend&apos;s API.</p>
<p><a href="https://nodei.co/npm/kayn/"><img src="https://nodei.co/npm/kayn.png" alt="NPM"></a></p>
<p><a href="https://travis-ci.org/cnguy/kayn"><img src="https://travis-ci.org/cnguy/kayn.svg?branch=master" alt="Build Status"></a>
<a href="https://github.com/cnguy/kayn/blob/master/ENDPOINTS.md"><img src="/_pictures/api_cov.png?raw=true" alt="API Cov. Badge" title="API Cov. Badge"></a>
<a href="https://codecov.io/gh/cnguy/kayn"><img src="https://codecov.io/gh/cnguy/kayn/branch/master/graph/badge.svg" alt="codecov"></a>
<a href="https://david-dm.org/cnguy/kayn"><img src="https://david-dm.org/cnguy/kayn/status.svg" alt="dependencies Status"></a></p>
<p><details><summary>Simple example using promises and callbacks</summary>

<p>

####

<code>javascript
const _kayn = require(&apos;kayn&apos;)
const Kayn = _kayn.Kayn
const REGIONS = _kayn.REGIONS

const kayn = Kayn(/* process.env.RIOT_LOL_API_KEY */)(/* optional config */)

kayn.Summoner.by
    .name(&apos;Contractz&apos;)
    .region(REGIONS.NORTH_AMERICA) // same as &apos;na&apos;
    .callback(function(unhandledError, summoner) {
        kayn.Matchlist.by
            .accountID(summoner.accountId)
            /* Note that region falls back to default if unused. */
            .query({
                season: 11,
                champion: 67,
            })
            .then(function(matchlist) {
                console.log(&apos;actual matches:&apos;, matchlist.matches)
                console.log(&apos;total number of games:&apos;, matchlist.totalGames)
            })
            .catch(console.error)
    })</code>
</p>
</details>

</p>
<p><details><summary>Same example (as the above) using async/await, destructuring, and template strings</summary>
<p>

####

<code>javascript
import { Kayn, REGIONS } from &apos;kayn&apos;

const kayn = Kayn(/* process.env.RIOT_LOL_API_KEY */)(/* optional config */)

const main = async () =&gt; {
    const { accountId } = await kayn.Summoner.by.name(&apos;Contractz&apos;)
    // ^ default region is used, which is `na` unless specified in config
    const { matches, totalGames } = await kayn.Matchlist.by
        .accountID(accountId)
        .query({ season: 11, champion: 67 })
        .region(REGIONS.NORTH_AMERICA)

    console.log(&apos;actual matches:&apos;, matches)
    console.log(`total number of games: ${totalGames}`)
}

main()</code>
</p></details>

</p>
<h1 id="table-of-contents-">Table of Contents:</h1><ul>
<li><a href="#features">Features</a></li>
<li><a href="#methods">Methods</a></li>
<li><a href="#installation-and-usage">Installation &amp; Usage</a></li>
<li><a href="#configuration">Configuration</a></li>
<li><a href="#my-project">My Project</a></li>
<li><a href="#bugs">Bugs / Changelog / Disclaimer</a></li>
</ul>
<h1 id="features">Features</h1><h2 id="rate-limiting">Rate Limiting</h2><p>Handled by <a href="https://github.com/Colorfulstan">Colorfulstan</a>&apos;s wonderful <a href="https://github.com/Colorfulstan/RiotRateLimiter-node">riot-ratelimiter</a>.</p>
<h2 id="all-endpoints-covered">All Endpoints Covered</h2><h2 id="caching">Caching</h2><p>Currently supports a basic JS cache (for simple scripts) and Redis for anything more complicated.</p>
<h2 id="compatible-with-callbacks--promises--async---await">Compatible with Callbacks, Promises, Async / Await</h2><h2 id="typescript-support">TypeScript Support</h2><p>Works immediately upon installation.</p>
<p>As of v0.8.0, full DTO&apos;s are provided thanks to <a href="https://github.com/MingweiSamuel">MingweiSamuel</a>&apos;s <a href="https://github.com/MingweiSamuel/riotapi-schema">auto-updated Swagger JSON</a>.</p>
<h1 id="methods">Methods</h1><p>Check out <a href="https://github.com/cnguy/kayn/blob/master/ENDPOINTS.md">ENDPOINTS.md</a> to see kayn&apos;s methods, as well as the endpoints covered.</p>
<h2 id="documentation">Documentation</h2><p>The auto-generated ESDoc documentation can be found <a href="http://kayn.surge.sh">here</a>.</p>
<h1 id="installation-and-usage">Installation and Usage</h1><p>The minimum required <a href="https://nodejs.org/en/blog/release/v7.6.0/">Node.js version is v7.6.0</a> for native async/await support (there&apos;s only a mere line in the codebase, though).</p>
<h2 id="npm">npm</h2><pre><code class="lang-sh"><code class="source-code prettyprint">npm i --save kayn</code>
</code></pre>
<h2 id="yarn">yarn</h2><pre><code class="lang-sh"><code class="source-code prettyprint">yarn add kayn</code>
</code></pre>
<h3 id="quick-setup-with--a-href--https---github-com-cnguy-kayn-blob-master-lib-kaynconfig-js--default-config--a-">Quick Setup with <a href="https://github.com/cnguy/kayn/blob/master/lib/KaynConfig.js">Default Config</a></h3><pre><code class="lang-javascript"><code class="source-code prettyprint">const { Kayn, REGIONS } = require(&apos;kayn&apos;)
const kayn = Kayn(&apos;RGAPI-my-api-key&apos;)(/*{
    region: REGIONS.NORTH_AMERICA,
    debugOptions: {
        isEnabled: true,
        showKey: false,
    },
    requestOptions: {
        shouldRetry: true,
        numberOfRetriesBeforeAbort: 3,
        delayBeforeRetry: 1000,
        burst: false,
    },
    cacheOptions: {
        cache: null,
        timeToLives: {
            useDefault: false,
            byGroup: {},
            byMethod: {},
        },
    },
}*/)</code>
</code></pre>
<p><strong>Note: Any config passed in is deeply merged with the default config.</strong></p>
<h3 id="environment-variables">Environment Variables</h3><pre><code class="lang-javascript"><code class="source-code prettyprint">const kayn = Kayn(/* process.env.RIOT_LOL_API_KEY */)(myConfig)</code>
</code></pre>
<p>Although it is possible to manually pass in the API key, it is preferable to store the key in a secret file (which should not be committed).</p>
<p>This allows <code>kayn</code> to be constructed like in the above code.</p>
<pre><code class="lang-sh"><code class="source-code prettyprint"># filename: .env
RIOT_LOL_API_KEY=RGAPI-my-api-key</code>
</code></pre>
<h3 id="callbacks">Callbacks</h3><pre><code class="lang-javascript"><code class="source-code prettyprint">kayn.Summoner.by.name(&apos;Contractz&apos;).callback(function(err, summoner) {
    // do something
})</code>
</code></pre>
<h3 id="promises">Promises</h3><pre><code class="lang-javascript"><code class="source-code prettyprint">kayn.Summoner.by.name(&apos;Contractz&apos;)
    .then(summoner =&gt; doSomething(summoner))
    .then(console.log)
    .catch(error =&gt; console.error(error))</code>
</code></pre>
<h3 id="async---await">Async / Await</h3><pre><code class="lang-javascript"><code class="source-code prettyprint">const main = async () =&gt; {
    const ctz = await kayn.Summoner.by.name(&apos;Contractz&apos;)
}</code>
</code></pre>
<h3 id="region">Region</h3><p>This forces a request to target a specific region instead of the default region set in <code>kayn</code>&apos;s config. If <code>.region()</code> is not used, <code>kayn</code> will use the default region to make requests.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">kayn.Summoner.by.name(&apos;hide on bush&apos;)
    .region(REGIONS.KOREA)
    .callback(function(error, summoner) {
        doSomething(summoner)
    })</code>
</code></pre>
<h4 id="region-without-throwing">Region without Throwing</h4><p>There is another utility method in case if you want to avoid handling exceptions caused by <code>.region()</code>. This method simply catches <code>.region()</code>&apos;s exception, and so it will fall back to the default region as well.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">kayn.Summoner.by.name(&apos;hide on bush&apos;)
    .regionNoThrow(null) // No error thrown. Uses default region.

kayn.Summoner.by.name(&apos;hide on bush&apos;)
    .regionNoThrow(3) // Same as above.

kayn.Summoner.by.name(&apos;hide on bush&apos;)
    .regionNoThrow(&apos;kr524&apos;) // Same as above.</code>
</code></pre>
<h3 id="query-parameters">Query Parameters</h3><pre><code class="lang-javascript"><code class="source-code prettyprint">kayn.Matchlist.by.accountID(3440481)
    .region(REGIONS.KOREA)
    .query({
        champion: 67,
        season: 9,
    })
    .callback(function(err, matchlist) {
        console.log(matchlist.matches.length)
    })</code>
</code></pre>
<h3 id="request-errors">Request Errors</h3><p>Errors as of v0.8.7 return the following error object:</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">{
    statusCode: 42, // some random number
    url: &apos;&apos;, // the debug URL that is used in logging as well
    error: {} // the rest of the error object
}</code>
</code></pre>
<h1 id="configuration">Configuration</h1><h2 id="request-options">Request Options</h2><h3 id="numberofretriesbeforeabort">numberOfRetriesBeforeAbort</h3><p>Default: 3 attempts.</p>
<h3 id="delaybeforeretry">delayBeforeRetry</h3><p>Default: 1000 ms (1 second).</p>
<p>This option will be scrapped in the future in favor for more flexibility (linear, exponential, random, etc).</p>
<h3 id="burst">burst</h3><p>Default: false.</p>
<p>Disabled by default in favor of <code>spread</code>.</p>
<p><code>true</code> =&gt; <code>riotratelimiter</code> will use its burst strategy.</p>
<p><code>false</code> =&gt; <code>riotratelimiter</code> will use its spread strategy.</p>
<h2 id="cache-options">Cache Options</h2><p>To cache, firstly create some cache that implements the <code>get</code> and <code>set</code> functions that <code>kayn</code> interfaces with, and then pass that cache instance to <code>cacheOptions.cache</code>.</p>
<p><code>ttls</code> are method ttls. This part is pretty inconvenient right now. Suggestions are welcome.</p>
<p>Current caches:</p>
<ul>
<li>basic in-memory cache </li>
<li>(node) lru-cache</li>
<li>Redis cache</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { Kayn, REGIONS, METHOD_NAMES, BasicJSCache, LRUCache, RedisCache } from &apos;kayn&apos;

const redisCache = new RedisCache({
    host: &apos;localhost&apos;,
    port: 5000,
    keyPrefix: &apos;kayn&apos;,
    password: &apos;hello-world&apos;,
    // etc...
})

const lruCache = new LRUCache({
    max: 500,
    dispose: (key, value) =&gt; {},
    length: (value, key) =&gt; 1,
})

const basicCache = new BasicJSCache()

const myCache = redisCache // or basicCache/lruCache

const kayn = Kayn(/* optional key */)({
    region: &apos;na&apos;,
    debugOptions: {
        isEnabled: true,
        showKey: false,
    },
    requestOptions: {
        shouldRetry: true,
        numberOfRetriesBeforeAbort: 3,
        delayBeforeRetry: 1000,
    },
    cacheOptions: {
        cache: myCache,
        timeToLives: {
            useDefault: true,
            byGroup: {
                STATIC: 1000 * 60 * 60 * 24 * 30, // cache for a month
            },
            byMethod: {
                [METHOD_NAMES.SUMMONER.GET_BY_SUMMONER_NAME]: 1000, // ms
            },
        },
    },
})

kayn.Summoner.by
    .name(&apos;Contractz&apos;)
    .then(() =&gt; kayn.Summoner.by.name(&apos;Contractz&apos;))

/*
200 @ https://na1.api.riotgames.com/lol/summoner/v3/summoners/by-name/Contractz
CACHE HIT @ https://na1.api.riotgames.com/lol/summoner/v3/summoners/by-name/Contractz
*/</code>
</code></pre>
<h3 id="ttls---">TTLs???</h3><p>Check out <code>Enums/default-ttls</code> and <code>Enums/method-names</code> to find the constants that you can use as keys within <code>byGroup</code> and <code>byMethod</code>.</p>
<p>Here is the order in which ttl&apos;s resolve (highest-priority first):</p>
<ol>
<li>byMethod</li>
<li>byGroup</li>
<li>useDefault</li>
</ol>
<p>Note that if you&apos;re using the <code>ttls</code> prop before v0.8.9, you&apos;re perfectly fine. <code>ttls</code> is the source of truth, and has the highest priotity over the above 3 ways.</p>
<h4 id="bymethod">byMethod</h4><p><code>byMethod</code> takes pairs of <code>Enums/method-names</code>, which are just unique (string-type) identifiers and the ttl value you desire.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">cacheOptions: {
    timeToLives: {
        byMethod: {
            [METHOD_NAMES.SUMMONER.GET_BY_SUMMONER_NAME]: 1000,
        }
    }
}

// Same as passing this:
// &apos;SUMMONER.GET_BY_SUMMONER_NAME&apos;: 1000,
// Constants just help for auto-complete.</code>
</code></pre>
<h4 id="bygroup">byGroup</h4><p><code>byGroup</code> takes pairs as well. The key difference is that it follows how Riot groups their API methods on their developer interface. You can check <code>Enums/method-names</code> once again to see how methods are grouped toegher.</p>
<p><code>byGroup</code> has lower priority than <code>byMethod</code>. This as you&apos;ll see is flexible.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">cacheOptions: {
    timeToLives: {
        byGroup: {
            MATCH: 60 * 60 * 24 * 30, // 30 days
        }
        byMethod: {
            [METHOD_NAMES.MATCH.GET_MATCHLIST]: 1000,
        }
    }
}

// Enums/method-names
/*
const MATCH = {
    GET_MATCH: &apos;MATCH.GET_MATCH&apos;,
    GET_MATCHLIST: &apos;MATCH.GET_MATCHLIST&apos;,
    GET_RECENT_MATCHLIST: &apos;MATCH.GET_RECENT_MATCHLIST&apos;,
    GET_MATCH_TIMELINE: &apos;MATCH.GET_MATCH_TIMELINE&apos;,
    GET_MATCH_IDS_BY_TOURNAMENT_CODE: &apos;MATCH.GET_MATCH_IDS_BY_TOURNAMENT_CODE&apos;,
    GET_MATCH_BY_TOURNAMENT_CODE: &apos;MATCH.GET_MATCH_BY_TOURNAMENT_CODE&apos;,
}
*/</code>
</code></pre>
<p>What this does is set the cache ttl of every single one of the above match method to 30 days. However, since <code>byMethod</code> has higher priority, we are then able to overwrite the <code>Matchlist.by.accountID</code> ttl, making it only be cached for a second instead.</p>
<p>This is good because the other match methods rarely change, while matchlists can change every 20 minutes.</p>
<h4 id="usedefault">useDefault</h4><p>Simply set <code>useDefault</code> in <code>timeToLives</code> to true. This option basically sets ttls I thought made some sense. <code>useDefault</code> has the lowest priority, which means you can set it to <code>true</code>, and then overwrite it on a case-by-case basis using <code>byGroup</code> and <code>byMethod</code>.</p>
<h3 id="flushing-the-cache">Flushing the Cache</h3><pre><code class="lang-javascript"><code class="source-code prettyprint">// BasicJSCache O(1)
// synchronous
kayn.flushCache()
// this has been turned into a promise so that it can be chained.
// still can just be called normally though.
// the `data` parameter returns &quot;OK&quot; just like in the RedisCache.
async1
  .then(() =&gt; kayn.flushCache())
  .then(console.log) // prints OK always. there&apos;s no way to get an error.
  .catch(console.err)

// RedisCache O(N)
// asynchronous
kayn.flushCache(function (err, ok) {
  console.log(ok === &quot;OK&quot;)
})

const flush = async () =&gt; {
  try {
    await kayn.flushCache() // returns &quot;OK&quot;, but not really necessary to store.
  } catch (exception) {
    console.log(exception)
  }
}

async1
  .then(() =&gt; async2())
  .then(() =&gt; kayn.flushCache())
  .then(console.log)
  .catch(console.log)</code>
</code></pre>
<h2 id="debug-options">Debug Options</h2><h3 id="showkey">showKey</h3><p>When logging, URLs printed out on the screen will also have the API key query string attached to it, allowing the user to conveniently inspect the response if necessary.</p>
<h3 id="loggers">loggers</h3><p><code>kayn</code> now uses <a href="https://www.npmjs.com/package/debug">debug</a> for all logging purposes.</p>
<p>Here are the current namespaces:</p>
<p>kayn</p>
<ul>
<li>init</li>
<li>request<ul>
<li>incoming<ul>
<li>success</li>
<li>error</li>
</ul>
</li>
<li>outgoing</li>
</ul>
</li>
<li>cache<ul>
<li>set</li>
<li>get</li>
</ul>
</li>
</ul>
<p>To enable debugging, firstly make sure <code>config.debugOptions.isEnabled</code> is <code>true</code>. Then, run your program with the desired DEBUG environment variables.</p>
<p>For example, if you wish to only see the request errors (404, 420, 503, 500, etc), run:</p>
<pre><code class="lang-sh"><code class="source-code prettyprint">DEBUG=kayn:request:incoming:error &lt;command&gt;
# DEBUG=kayn:*:error works too.</code>
</code></pre>
<p>...where command runs the script/server/whatever (<code>npm run start</code>, <code>yarn start</code>, <code>node index.js</code>).</p>
<p>To enable all loggers, simply run: </p>
<pre><code class="lang-sh"><code class="source-code prettyprint">DEBUG=kayn:* &lt;command&gt;</code>
</code></pre>
<h1 id="my-project">My Project</h1><p>If you&apos;re interested in what I have built using this library, here&apos;s a small web application I made, along with the original reddit post.</p>
<p>One Tricks:</p>
<ul>
<li>site: <a href="http://onetricks.net">http://onetricks.net</a></li>
<li>reddit link: <a href="https://www.reddit.com/r/leagueoflegends/comments/5x1c5c/hi_i_made_a_small_website_to_compile_a_list_of/">https://www.reddit.com/r/leagueoflegends/comments/5x1c5c/hi_i_made_a_small_website_to_compile_a_list_of/</a></li>
<li>src: <a href="https://github.com/cnguy/OneTricks">https://github.com/cnguy/OneTricks</a></li>
</ul>
<p>Here are the requests stats for anyone interested.</p>
<p>Note that my requests stats are inflated since I&apos;m not really caching at the moment (lol).</p>
<p><img src="/_pictures/number_of_requests.png?raw=true" alt="Alt text" title="onetricks.net"></p>
<p><img src="/_pictures/status_codes.png?raw=true" alt="Alt text" title="onetricks.net"></p>
<h1 id="bugs">Bugs</h1><p>Feel free to make an issue (bug, typos, questions, suggestions, whatever) or pull request to fix an issue. Just remember to run <code>prettier</code> (via <code>yarn lint</code>).</p>
<p>Package commands:</p>
<ul>
<li><code>yarn lint</code>
for <code>prettier</code> (will add <code>eslint</code> to <code>prettier</code> soon)</li>
<li><code>yarn example</code>
to run the various files in <code>./examples</code></li>
<li><code>yarn build</code>
to build. <code>yarn example</code> runs this command</li>
<li><code>yarn test</code></li>
</ul>
<h1 id="changelog">Changelog</h1><p><a href="https://github.com/cnguy/kayn/blob/master/CHANGELOG.md">CHANGELOG.md</a>.</p>
<p>As long this library is pre-1.0.0, breaking changes may be made, but will be documented and will generally not be drastic. Upon 1.0.0, SemVer will be followed strictly.</p>
<h1 id="disclaimer">Disclaimer</h1><p><code>kayn</code> isn&apos;t endorsed by Riot Games and doesn&apos;t reflect the views or opinions of Riot Games or anyone officially involved in producing or managing League of Legends. League of Legends and Riot Games are trademarks or registered trademarks of Riot Games, Inc. League of Legends &#xA9; Riot Games, Inc.</p>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.0.4)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
